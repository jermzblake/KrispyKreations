[{"/home/jermzblake/mycode/projects/krispykreations/src/index.js":"1","/home/jermzblake/mycode/projects/krispykreations/src/reportWebVitals.js":"2","/home/jermzblake/mycode/projects/krispykreations/src/pages/App/App.js":"3","/home/jermzblake/mycode/projects/krispykreations/src/components/NavBar/NavBar.jsx":"4","/home/jermzblake/mycode/projects/krispykreations/src/pages/test.jsx":"5","/home/jermzblake/mycode/projects/krispykreations/src/pages/SignupPage/SignupPage.jsx":"6","/home/jermzblake/mycode/projects/krispykreations/src/components/SignupForm/SignupForm.jsx":"7","/home/jermzblake/mycode/projects/krispykreations/src/utils/userService.js":"8","/home/jermzblake/mycode/projects/krispykreations/src/utils/tokenService.js":"9","/home/jermzblake/mycode/projects/krispykreations/src/pages/LoginPage/LoginPage.jsx":"10","/home/jermzblake/mycode/projects/krispykreations/src/utils/recipeService.js":"11"},{"size":587,"mtime":1610662262640,"results":"12","hashOfConfig":"13"},{"size":362,"mtime":1610659218378,"results":"14","hashOfConfig":"13"},{"size":1631,"mtime":1611184629256,"results":"15","hashOfConfig":"13"},{"size":864,"mtime":1611001952338,"results":"16","hashOfConfig":"13"},{"size":210,"mtime":1610663469589,"results":"17","hashOfConfig":"13"},{"size":427,"mtime":1611000306582,"results":"18","hashOfConfig":"13"},{"size":2559,"mtime":1611265356683,"results":"19","hashOfConfig":"13"},{"size":1135,"mtime":1611179842844,"results":"20","hashOfConfig":"13"},{"size":728,"mtime":1610749890812,"results":"21","hashOfConfig":"13"},{"size":1586,"mtime":1611179860602,"results":"22","hashOfConfig":"13"},{"size":782,"mtime":1611189622783,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"u0crha",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"26"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"26"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"26"},"/home/jermzblake/mycode/projects/krispykreations/src/index.js",[],["51","52"],"/home/jermzblake/mycode/projects/krispykreations/src/reportWebVitals.js",[],"/home/jermzblake/mycode/projects/krispykreations/src/pages/App/App.js",["53","54","55","56"],"import logo from '../../logo.svg';\nimport './App.css';\nimport React, {useState, useEffect} from 'react';\nimport { Route, Link } from 'react-router-dom';\n// import pages\nimport SignupPage from '../SignupPage/SignupPage';\nimport LoginPage from '../LoginPage/LoginPage';\nimport Test from '../test';\n// import components\nimport NavBar from '../../components/NavBar/NavBar';\n// import utilities\nimport userService from '../../utils/userService';\nimport recipeService from '../../utils/recipeService';\n\nfunction App() {\n  const [user, setUser] = useState(userService.getUser());\n  const [recipeBook, setRecipeBook] = useState(null);\n\n  const handleSignupOrLogin = () => {\n    setUser(userService.getUser());\n  }\n\n  const handleLogout = () => {\n    userService.logout();\n    setUser(null);\n  }\n\n  const updateRecipeBook = (book) => {\n    setRecipeBook({ book })\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <NavBar\n          user={user}\n          handleLogout={handleLogout}\n        />\n\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n\n      </header>\n      <Route exact path='/test' render={() => (\n        <Test/>\n      )}/>\n      <Route exact path='/signup' render={({ history }) => (\n        <SignupPage \n          history={history}\n          handleSignup={handleSignupOrLogin}\n          user={user}\n          updateRecipeBook={updateRecipeBook}\n        />\n      )}/>\n      <Route exact path='/login' render={({ history }) => (\n        <LoginPage\n          history={history}\n          handleLogin={handleSignupOrLogin}\n        />\n      )}/>\n    </div>\n  );\n}\n\nexport default App;\n","/home/jermzblake/mycode/projects/krispykreations/src/components/NavBar/NavBar.jsx",[],"/home/jermzblake/mycode/projects/krispykreations/src/pages/test.jsx",[],"/home/jermzblake/mycode/projects/krispykreations/src/pages/SignupPage/SignupPage.jsx",[],"/home/jermzblake/mycode/projects/krispykreations/src/components/SignupForm/SignupForm.jsx",["57"],"/home/jermzblake/mycode/projects/krispykreations/src/utils/userService.js",["58"],"import tokenService from './tokenService';\n\nconst BASE_URL = '/api/users/';\n\nfunction signup(user) {\n  console.log(user)\n  return fetch(BASE_URL + 'signup', {\n    method: 'POST',\n    headers: new Headers({'Content-Type': 'application/json'}),\n    body: JSON.stringify(user)\n  })\n  .then(res => {\n    if (res.ok) return res.json();\n    // Probably a duplicate email\n    throw new Error('There was an error - possibly Email already taken!');\n  })\n   // Parameter destructuring!\n   .then(({ token }) => {\n    tokenService.setToken(token);\n   });\n}\n\nfunction getUser() {\n  return tokenService.getUserFromToken();\n}\n\nfunction login(creds) {\n  console.log(creds)\n  return fetch(BASE_URL + 'login', {\n    method: 'POST',\n    headers: new Headers({'Content-Type': 'application/json'}),\n    body: JSON.stringify(creds)\n  })\n  .then(res => {\n    // Valid login if we have a status of 2xx (res.ok)\n    if (res.ok) return res.json();\n    throw new Error('Bad Credentials!');\n  })\n  .then(({token}) => tokenService.setToken(token));\n}\n\nfunction logout() {\n  tokenService.removeToken();\n}\n\nexport default {\n  signup,\n  getUser,\n  logout,\n  login\n}; ","/home/jermzblake/mycode/projects/krispykreations/src/utils/tokenService.js",["59"],"function setToken(token) {\n    localStorage.setItem('token', token);\n}\n\nfunction getToken() {\n  let token = localStorage.getItem('token');\n  if (token) {\n    // Check if expired, remove if it is\n    const payload = JSON.parse(atob(token.split('.')[1]));\n    // JWT's exp is expressed in seconds, not milliseconds, so convert\n    if (payload.exp < Date.now() / 1000) {\n      localStorage.removeItem('token');\n      token = null;\n    }\n  }\n  return token;\n}\n\nfunction getUserFromToken () {\n  const token = getToken();\n  return token ? JSON.parse(atob(token.split('.')[1])).user : null;\n}\n\nfunction removeToken() {\n  localStorage.removeItem('token');\n}\n\nexport default {\n  setToken,\n  getToken,\n  getUserFromToken,\n  removeToken\n};","/home/jermzblake/mycode/projects/krispykreations/src/pages/LoginPage/LoginPage.jsx",[],"/home/jermzblake/mycode/projects/krispykreations/src/utils/recipeService.js",["60"],"import tokenService from './tokenService';\n\nconst BOOK_URL = '/api/recipeBooks/';\n// put recipe book entires URL here\n\nexport default {\n    index,\n    createRecipeBook,\n}\n\nfunction index() {\n    return fetch(BOOK_URL, {\n        method: 'GET',\n        headers: {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer ' + tokenService.getToken()\n          }\n    }).then(res => res.json());\n}\n  \nfunction createRecipeBook(user) {\n    console.log(\"recipeService user: \" + user)\n    const options = {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json',\n        'Authorization': 'Bearer ' + tokenService.getToken()\n      },\n      body: JSON.stringify(user)\n    };\n    return fetch(BOOK_URL, options).then(res => res.json());\n}",{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","severity":1,"message":"66","line":3,"column":26,"nodeType":"67","messageId":"68","endLine":3,"endColumn":35},{"ruleId":"65","severity":1,"message":"69","line":4,"column":17,"nodeType":"67","messageId":"68","endLine":4,"endColumn":21},{"ruleId":"65","severity":1,"message":"70","line":13,"column":8,"nodeType":"67","messageId":"68","endLine":13,"endColumn":21},{"ruleId":"65","severity":1,"message":"71","line":17,"column":10,"nodeType":"67","messageId":"68","endLine":17,"endColumn":20},{"ruleId":"65","severity":1,"message":"70","line":6,"column":8,"nodeType":"67","messageId":"68","endLine":6,"endColumn":21},{"ruleId":"72","severity":1,"message":"73","line":46,"column":1,"nodeType":"74","endLine":51,"endColumn":3},{"ruleId":"72","severity":1,"message":"73","line":28,"column":1,"nodeType":"74","endLine":33,"endColumn":3},{"ruleId":"72","severity":1,"message":"73","line":6,"column":1,"nodeType":"74","endLine":9,"endColumn":2},"no-native-reassign",["75"],"no-negated-in-lhs",["76"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","'recipeService' is defined but never used.","'recipeBook' is assigned a value but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation"]